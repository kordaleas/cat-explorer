<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content below * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced.  * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * Delete the template below * * * * * * * * * -->
<!-- * * * * * * * to get started with your project! * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content above * * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced.  * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * End of Placeholder  * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->

<div class="min-h-screen bg-white dark:bg-gray-900 transition-colors">
  <main class="container mx-auto p-4">
    <div class="flex justify-between items-center mb-6">
      <h1 class="text-3xl font-bold dark:text-white">Cat Breeds Explorer</h1>
      <app-theme-toggle></app-theme-toggle>
    </div>

    <app-search-bar (search)="handleSearch($event)"></app-search-bar>

    <ng-container *ngIf="!error; else errorState">
      <ng-container *ngIf="!searchError; else searchErrorState">

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          <ng-container *ngIf="!isLoading; else loadingState">
            <ng-container *ngIf="filteredBreeds.length > 0; else noResults">
              <app-cat-card 
                *ngFor="let breed of filteredBreeds" 
                [breed]="breed">
              </app-cat-card>
            </ng-container>
          </ng-container>
        </div>
      </ng-container>
    </ng-container>

    <ng-template #noResults>
      <div class="col-span-full text-center py-8">
        <p class="text-gray-600 dark:text-gray-400">No breeds found matching your search.</p>
      </div>
    </ng-template>

    <ng-template #searchErrorState>
      <div class="text-center py-8">
        <p class="text-red-500">{{searchError}}</p>
      </div>
    </ng-template>

    <ng-template #loadingState>
      <app-skeleton-loader *ngFor="let i of [1,2,3,4,5,6]"></app-skeleton-loader>
    </ng-template>

    <ng-template #errorState>
      <div class="text-center py-12">
        <svg class="w-16 h-16 mx-auto text-gray-400 dark:text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <h2 class="mt-4 text-xl font-bold text-gray-800 dark:text-gray-200">{{error}}</h2>
        <button 
          (click)="retryLoading()" 
          class="mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors">
          Try Again
        </button>
      </div>
    </ng-template>
  </main>
</div>

<router-outlet />
